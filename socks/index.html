<!DOCTYPE html>
<html>
<head>
    <script src="/bower_components/webcomponentsjs/webcomponents.min.js"></script>
    <link rel="import" href="ws.html">
</head>
<body>
<ws-element url="ws://localhost/ws"></ws-element>
<script>
    var wsElement = document.querySelector("ws-element");
    wsElement.addEventListener('onerror', function (error){
        throw new Error(error);
    });
    wsElement.addEventListener('onopen', function () {
        wsElement.send('Hello from client');
    });
    wsElement.addEventListener('onmessage', function (message) {
        // hello from the server
        console.log(message.detail);
    });
</script>
</body>
</html>
